# Radically Straightforward Â· Documentation

**ðŸ“š Extract documentation from TypeScript source files to Markdown**

## Installation

```console
$ npm install --save-dev @radically-straightforward/documentation
```

## Usage

<!-- DOCUMENTATION START: $ node ./build/index.mjs --help -->

```
Usage: documentation [options] [input...]

ðŸ“š Extract documentation from TypeScript source files to Markdown

Arguments:
  input          The files with documentation directives to process. (default:
                 ["./README.md"])

Options:
  -V, --version  output the version number
  -h, --help     display help for command

Tutorial:
  Document your TypeScript code with comments of the form â€˜/** ... */â€™ containing Markdown (not JSDoc) above â€˜exportâ€™ed function declarations, variable declarations, class declarations, and TypeScript types alias declarations, for example:

    /**
     * Example of `FunctionDeclaration`.
     *
     * **`exampleOfParameter`:** Example of some documentation about a parameter.
     *
     * **Return:** Example of some documentation about the return value.
     */
    export default async function exampleOfFunctionDeclaration(
      exampleOfParameter: string,
    ): Promise<string> {
      // ...
    }

    /**
     * Example of `VariableDeclaration`.
     */
    export const exampleOfVariableDeclaration: string = "exampleOfVariableDeclaration";

    /**
     * Example of `ClassDeclaration`.
     */
    export class ExampleOfClassDeclaration {
      /**
       * Example of `ClassMethod`.
       */
      exampleOfClassMethod(): void {
        // ...
      }

      /**
       * Example of `ClassProperty`.
       */
      exampleOfClassProperty: string = "exampleOfClassProperty";
    }

    /**
     * Example of `TSTypeAliasDeclaration`.
     */
    export type ExampleOfTSTypeAliasDeclaration = string;

  Note: Include type annotations in function declarations, variable declarations, and class declarations. There are tools, for example, Visual Studio Code, which can display tooltips including types even when there are no type annotations because they infer the types based on the values in declarations, but this tool doesnâ€™t do that.

  In your documentation (for example, â€˜README.mdâ€™), include directives, for example:

    # Example of `@radically-straightforward/documentation`

    ## Extract TypeScript Documentation

    <!-- DOCUMENTATION: index.mts -->

    ## Run Command

    <!-- DOCUMENTATION: $ tail -n 1 ./index.mts -->

    // Example of last line for command.

  Note: Besides pointing at TypeScript files a directive may also contain a command line. This toolâ€™s â€˜README.mdâ€™, for example, includes this help document that youâ€™re reading which was extracted from this toolâ€™s command-line help by using something that amounts to â€˜<!-- DOCUMENTATION: $ npx package --help -->â€™.

  Run this tool to extract the comments from the TypeScript files and include them in the documentation:

    $ npx documentation

  Note: Donâ€™t modify by hand the parts of the documentation that were generated by this tool or you would risk having your modifications overwritten the next time you run the tool.

  You must rerun this tool when the TypeScript files are modified. We suggest including this as part of the build process, for example, in â€˜package.jsonâ€™:

    {
      scripts: {
        "prepare": "... && documentation"
      }
    }
```

<!-- DOCUMENTATION END: $ node ./build/index.mjs --help -->

## Related Work

**[TSDoc](https://tsdoc.org/)**

TSDoc is based on JSDoc tags, for example, `@param`, `@returns`, and so forth. In this tool we avoid JSDoc markup and use only Markdown, because:

1. JSDoc is yet another markup language to learn.
2. Sometimes JSDoc and Markdown interact badly.
3. Most of the benefit of JSDoc is in informing types, which is subsumed by TypeScript.

**[TypeDoc](https://typedoc.org/)**

In conjunction with [`typedoc-plugin-markdown`](https://www.npmjs.com/package/typedoc-plugin-markdown) this does something very similar to this tool, but we found the formatting to be a bit clunky. We prefer to keep the TypeScript syntax, which is well-known. Also, we added directives which run command lines, which are helpful, for example, when documenting command-line tools.
